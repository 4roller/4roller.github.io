<!DOCTYPE html>
<html> 

	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no">
		<link href='http://fonts.googleapis.com/css?family=Anonymous+Pro' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Titillium+Web' rel='stylesheet' type='text/css'/>
		<link rel="stylesheet" type="text/css" href="assets/css/styles.css"> 
	</head>

	<body>
		<h1 class="header">Modified Lifestyles</h1>
		<article>
			<h2 class="title">Above the Clouds</h2>
			<date>2014-09-27T15:49:00-0700</date>
			<img src="assets/images/BigBear.jpg" class="stock1"  />
			<h4 class="subheader">Above the Clouds near Big Bear, CA</h4>
			<ul>
				<li>Driving back to Los Angeles from Big Bear, we stopped off to take in the majestic view.</li>
			</ul>
		</article>	
		<article>
			<h2 class="title">Grasshopper</h2>
			<date>2014-09-27T15:49:00-0700</date>
			<img src="assets/images/grasshopper.jpg" class="stock1"  />
			<h4 class="subheader">Grasshopper</h4>
			<ul>
				<li>This green guy/girl was hanging-out perched a door frame in our apartment complex.</li>
			</ul>
		</article>		

		<article>
			<h2 class="title">A Postcard Julian, CA</h2>
			<date>2014-09-27T15:11:00-0700</date>
			<img src="assets/images/JulianCountyCA.jpg" class="stock1"  />
			<h4 class="subheader">The surrounding area of Julian, CA.</h4>
			<ul>
				<li>Julian California USA is an old mining town located about 50 miles north-east of San Diego, CA. </li>
				<li>In the Early part of the 1900's, Julian recived some Blue ribbon awards for their apples.</li>
				<li>Nowadays its a little tourist town know for their apple pies. A little bit of America right there if you as me.</li>
				<li> "This is the best apple pie I've ever had" - TC</li>
			</ul>
		</article>
		<article>
			<h2 class="title">A Postcard from Palm Springs, CA</h2>
			<date>2014-09-06T17:58:00-0700</date>
			<img src="assets/images/PalmSpringsDesert.jpg" class="stock1"  />
			<h4 class="subheader">The surrounding area of Palm Springs, CA.</h4>
			<p>104&deg;F in the afternoon</p>
            <p>100&deg;F in the evening</p>
		</article>
	</body>

	<script>


		var blog = (function() {
			return {
				styleImages: function() {
					var allStock = document.querySelectorAll('img.stock1');
					
					for(var i = 0, len = allStock.length; i < len; i++) {
						var div = document.createElement('div');
						div.classList.add('stock1Wrapper');
						allStock[i].parentElement.insertBefore(div, allStock[i]);
						div.appendChild(allStock[i]);
					}
				},
				parseDates: function() {
					var allDates = document.querySelectorAll('date');
					for(var i = 0, len = allDates.length; i < len; i++) {
						allDates[i].innerHTML = blog.niceDate(allDates[i].innerHTML);
					}
				},
				niceDate : function(dateString) {
					var days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
					var months = ["Janurary", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
					var output;
					var unixtime = Date.parse( dateString );
					var curTimestamp = new Date();
					var timeDiff = Math.round( (curTimestamp - unixtime)  );
					if ( timeDiff < 8.28e+7 && timeDiff > 3.6e+6) {
						hour = Math.round(Math.abs(timeDiff/3.6e+6));
						if (hour == 1) {
							output = "1 hour ago";
						} else {
							output = hour + " hours ago";
						}
					} else if(timeDiff < 3.6e+6) {
						output = Math.round(Math.abs(timeDiff/60000)) + " minutes ago";
					} else {
		                var d = new Date(unixtime);
						//output = d.toString('dddd, MMMM, yyyy').substr(0,16);
						output = days[d.getDay() -1] + ", " + months[d.getMonth() -1] + " " + d.getDate() + ", " + d.getFullYear();
						// For browsers that don't have ISO-8601 Date implementation
						if (output === 'Invalid Date') {
							output = dateString;
						}
					}
					//output  = dateString;
					return output;
				}
			}
		})();

		blog.styleImages();
		blog.parseDates();

	</script>

</html>
